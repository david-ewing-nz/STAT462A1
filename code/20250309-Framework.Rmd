---
title: "STAT462 Assignment 1"
author:  
 - Simon Clark (XXXXXXXX) 
 -  David Ewing (82171165)  
 -  Xia Yu (YYYYYYYY) 
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
# DEE: This chunck was set up with the aid of ChatGPT 

options(repos = c(CRAN = "https://cran.stat.auckland.ac.nz/"))

# required packages
required_packages <- c("ggplot2", "dplyr", "class", "tidyr")

# install only missing packages (no forced updates)
for (pkg in required_packages) {
  if (!requireNamespace(pkg, quietly = TRUE)) {
    install.packages(pkg)
  }
}

# add your libraries here!!!
library(ggplot2)
library(dplyr)
library(class)
library(tidyr)

```

# Braking Distance

In this question, do not use the `lm` function or a module that provides an implementation of k-NN. You are allowed to use elementary statistical objects like mean, variance, etc.

We will be predicting the distance that a car takes to stop when driving at a certain speed. The dataset is from 1930, so it might be slightly outdated. Units are miles per hour (speed) and feet (distance).

## Data Preparation

```{r}
# Load and preprocess dataset
```

## Linear Regression (Without lm)

```{r}
# Compute slope and intercept for simple linear regression
```

Using the linear regression model, predict the braking distance for a car going at 30 km/h and include an 80% prediction interval.

```{r}
# Prediction for 30 km/h
```

## k-NN Model

```{r}
# Fit and predict using k-NN model
```

# Filipino Household Income

## Data Preparation

```{r}
# Load and preprocess dataset
```


## Linear Regression

```{r}
# Fit linear model and summarise
```

# ---------------------------
=======
# Set a seed for reproducibility
set.seed(888)  # seed number could be modified, here I use seed for reduce RAM pressure \
# \in compution when smaple size is over 40000.
# Combine income and children into a data frame
data <- data.frame(income = income, children = children)
# Split the data into training (80%) and test sets (20%)
train_data <- data[sample(1:nrow(data), size = 0.8 * nrow(data)), ]
test_data <- data[-sample(1:nrow(data), size = 0.8 * nrow(data)), ]

```

### Model Trainning

```{r}
# Fit a linear regression model
model <- lm(income ~ children, data = train_data)

# Print the summary of the model
summary(model)

```

### Model Explanation

1.  What is the specific form of the affine-linear model, i.e. what are `b0` and `b1`?

-   The affine-linear model \|SLR model (simple linear regression model) has the general form: $\text{income} = b_0 + b_1 \cdot \text{children}$

-   $b_0$ is the **intercept** (the value of income when children = 0). Our model's $b_0= 262735$

-   $b_1$ is the **slope** (the change in income for a one-unit increase in children). Our model's $b_1= -11256$

-   So the specific form of our SLR model is:

    $\text{income} = 262735 −11256 \cdot \text{children}$

2.  What is the predicted mean income of a household with $𝑛$ children, for $\text{n} ∈ \{0,1,…,8\}$? What are the associated 90% prediction intervals? Summarize all of this in a table.

```{r}
n <- array(0:8)
b_0 <- 262735
b_1 <- -11256
income_n <- b_0+b_1*n
cat(paste0("The predicted mean income of a household with 0-8 children = ",mean(income_n)),"\n")
```

When the sample number $\text{n}=8$, which is very small, we could .... (to be continue)

2.  Using your test set, check how many percent of datapoints lie within the 90% prediction intervals.

# Predicting Possum Age
## Data Preparation

```{r load-possums, include=FALSE}
# Load and preprocess dataset
 zip_path <- "../data/datasets.zip"
 file.exists(zip_path)
 possums <- read.csv(unz(zip_path, "possums.csv"))
 head(possums)
```

## Data and Initial Analysis

```{r possum-map, echo=FALSE, out.width="70%", fig.align='center'}
# Load dataset and visualise
knitr::include_graphics("../images/possum_age_plot.png")
## Data Preparation


```

```{r}
# Preprocess dataset
```

## Feature Selection and Model Training

```{r}
# Forward feature selection and model training
```

## Model Evaluation

```{r}
# Compute evaluation metrics
```

## Further Exploration

```{r}
# Additional analysis or research questions
```
